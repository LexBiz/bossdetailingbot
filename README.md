## BOSS DETALING Telegram Bot

Telegram-–±–æ—Ç –¥–ª—è —Å—Ç—É–¥–∏–∏ –¥–µ—Ç–µ–π–ª–∏–Ω–≥–∞ **BOSS DETALING**, –∫–æ—Ç–æ—Ä—ã–π:

- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞—è–≤–∫–∏,
- –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–π—Å,
- –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ FAQ,
- —Ö—Ä–∞–Ω–∏—Ç –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π,
- —à–ª—ë—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è,
- —É–≤–µ–¥–æ–º–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞,
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **RU / CZ**,
- —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ **polling –∏–ª–∏ webhook**,
- –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç HTTP API –¥–ª—è —Å–∞–π—Ç–∞.

### –°—Ç–µ–∫

- **Node.js 18+**
- **Telegraf (ES-modules)**
- **PostgreSQL**
- **Express**
- **node-cron**

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **bot/**
  - `bot.js` ‚Äì –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞, –º–∏–¥–ª–≤–∞—Ä—ã, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤
  - `messages.js` ‚Äì –≤—Å–µ —Ç–µ–∫—Å—Ç—ã RU/CZ, –∫–Ω–æ–ø–∫–∏, —à–∞–±–ª–æ–Ω—ã
  - `menu.js` ‚Äì –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
  - **flows/**
    - `booking.js` ‚Äì –ø–æ—à–∞–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∑–∞–ø–∏—Å–∏
    - `reschedule.js` ‚Äì —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–µ—Ä–µ–Ω–æ—Å–∞ –∑–∞–ø–∏—Å–∏
  - **admin/**
    - `index.js` ‚Äì –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã –∏ inline-–∫–Ω–æ–ø–∫–∏
  - **helpers/**
    - `db.js` ‚Äì –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Postgres
    - `cron.js` ‚Äì –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ cron
    - `utils.js` ‚Äì –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—è–∑—ã–∫, —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç, —Ç.–¥.)
- **api/**
  - `index.js` ‚Äì –∑–∞–ø—É—Å–∫ HTTP-—Å–µ—Ä–≤–µ—Ä–∞, webhook, API `/api/bookings`
- `db.sql` ‚Äì SQL-—Å—Ö–µ–º–∞ –ë–î
- `.env.example` ‚Äì –ø—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–æ–∑–¥–∞–π—Ç–µ —É —Å–µ–±—è –ª–æ–∫–∞–ª—å–Ω–æ)
- `package.json` ‚Äì –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js 18+ –∏ PostgreSQL.**

2. **–°–æ–∑–¥–∞–π—Ç–µ –ë–î:**

```sql
CREATE DATABASE boss_detailing;
```

3. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Å—Ö–µ–º—É:**

```bash
psql -d boss_detailing -f db.sql
```

4. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –æ–±—Ä–∞–∑—Ü—É:**

```bash
copy env.example .env   # Windows PowerShell / cmd
# –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ (–ø—Ä–∏–º–µ—Ä):

```bash
BOT_TOKEN=your_telegram_bot_token_here   # —Å—é–¥–∞ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
DATABASE_URL=postgres://user:password@host:5432/boss_detailing
BOOKINGS_CHAT_ID=-1001234567890          # chat_id –≥—Ä—É–ø–ø—ã/–∫–∞–Ω–∞–ª–∞, –∫—É–¥–∞ —Å–ª–∞—Ç—å –∑–∞—è–≤–∫–∏
ADMIN_PASSWORD=change_me                 # –ø–∞—Ä–æ–ª—å –¥–ª—è /admin
USE_WEBHOOK=false
WEBHOOK_URL=https://your-domain.com/api/webhook
LOGO_URL=https://example.com/logo.jpg    # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) URL –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ª–æ–≥–æ—Ç–∏–ø–∞
LOGO_PATH=./assets/logo.jpg              # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞ –ª–æ–≥–æ—Ç–∏–ø–∞
```

5. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

```bash
npm install
```

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ (polling –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**

```bash
npm start
```

–ë–æ—Ç –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è –∏ –Ω–∞—á–Ω—ë—Ç –æ–ø—Ä–æ—Å Telegram, –∞ —Ç–∞–∫–∂–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è HTTP-—Å–µ—Ä–≤–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ—Ä—Ç `3000`).

---

## –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É polling –∏ webhook

- **Polling (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
  - –í `.env`: `USE_WEBHOOK=false`
  - –ó–∞–ø—É—Å–∫–∞–µ—Ç–µ: `npm start`

- **Webhook:**
  - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω/URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ Railway/Render/NGROK).
  - –í `.env`:

```bash
USE_WEBHOOK=true
WEBHOOK_URL=https://your-domain.com/api/webhook
```

  - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (`npm start`).
  - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∞–º–æ –≤—ã—Å—Ç–∞–≤–∏—Ç webhook —á–µ—Ä–µ–∑ `bot.telegram.setWebhook`.

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- **BOT_TOKEN** ‚Äì —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞.
- **DATABASE_URL** ‚Äì —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL.
- **BOOKINGS_CHAT_ID** ‚Äì `chat_id` –≥—Ä—É–ø–ø—ã/–∫–∞–Ω–∞–ª–∞, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ –∑–∞—è–≤–∫–∏ (–±–µ–∑ –∫–Ω–æ–ø–æ–∫).
- **ADMIN_PASSWORD** ‚Äì –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —á–µ—Ä–µ–∑ `/admin`.
- **USE_WEBHOOK** ‚Äì `true` –∏–ª–∏ `false`. –ü—Ä–∏ `true` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è webhook, –∏–Ω–∞—á–µ ‚Äì polling.
- **WEBHOOK_URL** ‚Äì –ø–æ–ª–Ω—ã–π URL webhook endpoint, –Ω–∞–ø—Ä–∏–º–µ—Ä `https://your-domain.com/api/webhook`.
- **LOGO_URL** ‚Äì —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É-–ª–æ–≥–æ—Ç–∏–ø, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ `/start`. –ï—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–∞–≥–ª—É—à–∫–∞.
- **LOGO_PATH** ‚Äì –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `./assets/logo.jpg`). –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–µ–≥–æ –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ**, –∏–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `LOGO_URL` –∏–ª–∏ –∑–∞–≥–ª—É—à–∫–∞.

---

## –õ–æ–≥–∏–∫–∞ –±–æ—Ç–∞

### 1. –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞

- –ü—Ä–∏ `/start` –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
  - –±–æ–ª—å—à—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É (–∑–∞–≥–ª—É—à–∫–∞-–ª–æ–≥–æ—Ç–∏–ø),
  - –Ω–∞–¥–ø–∏—Å—å **BOSS DETALING**,
  - –¥–≤–µ –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞:
    - üá∑üá∫ –†—É—Å—Å–∫–∏–π
    - üá®üáø ƒåesky
- –Ø–∑—ã–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

### 2. –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —è–∑—ã–∫–∞:

- **RU:**
  - üìÖ –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
  - üíµ –ü—Ä–∞–π—Å
  - ‚ùì FAQ
  - üñº –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ
  - üì≤ –ú–æ–π –∑–∞–∫–∞–∑
  - ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- **CZ:**
  - üìÖ Rezervace
  - üíµ Cen√≠k
  - ‚ùì FAQ
  - üñº Portfolio
  - üì≤ Moje rezervace
  - ‚öôÔ∏è Nastaven√≠

–ú–µ–Ω—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ reply-–∫–Ω–æ–ø–∫–∏.

### 3. –ü—Ä–∏—ë–º –∑–∞—è–≤–æ–∫ (flow –∑–∞–ø–∏—Å–∏)

–ü–æ—à–∞–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:

1. –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥–∏.
2. –í—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —É—Å–ª—É–≥–∏.
3. –í—ã–±–æ—Ä –∫–ª–∞—Å—Å–∞ –∞–≤—Ç–æ (A/B/C).
4. –í—ã–±–æ—Ä –¥–∞—Ç—ã:
   - –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ 7 –¥–Ω–µ–π (inline-–∫–Ω–æ–ø–∫–∏),
   - –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ **–°–µ–≥–æ–¥–Ω—è / –ó–∞–≤—Ç—Ä–∞**.
5. –í–≤–æ–¥ –∏–º–µ–Ω–∏.
6. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ **¬´üìû –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä¬ª** (`request_contact`).
   - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç, –∞ –ø–∏—à–µ—Ç –Ω–æ–º–µ—Ä –≤—Ä—É—á–Ω—É—é ‚Äì —Ç–µ–ª–µ—Ñ–æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `unverified`.
7. –í–≤–æ–¥ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.
8. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ —Å —Ä–µ–∑—é–º–µ.

–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:

- –∑–∞–ø–∏—Å—å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü—É `bookings`,
- —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ **24 —á–∞—Å–∞** –∏ –∑–∞ **1 —á–∞—Å** –¥–æ –≤–∏–∑–∏—Ç–∞ (—Ç–∞–±–ª–∏—Ü–∞ `reminders`),
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ,
- –≤ –≥—Ä—É–ø–ø—É –∑–∞—è–≤–æ–∫ (`BOOKINGS_CHAT_ID`) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–±–µ–∑ –∫–Ω–æ–ø–æ–∫).

### 4. –ú–æ–∏ –∑–∞–ø–∏—Å–∏ / Moje rezervace

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö –±–ª–∏–∂–∞–π—à–∏—Ö –∑–∞–ø–∏—Å–µ–π.
- –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ –¥–æ—Å—Ç—É–ø–Ω—ã inline-–∫–Ω–æ–ø–∫–∏:
  - –û—Ç–º–µ–Ω–∏—Ç—å / Zru≈°it
  - –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ / P≈ôesunout
- –ü–µ—Ä–µ–Ω–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π flow `reschedule` (–ø–æ—Ö–æ–∂ –Ω–∞ –≤—ã–±–æ—Ä –¥–∞—Ç—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏).

### 5. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (cron)

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `node-cron`, –∑–∞–¥–∞—á–∞ —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É:
  - –∏—â–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending` –∏ `scheduled_at <= NOW()`,
  - —à–ª—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏:
    - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å / Potvrdit
    - –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ / P≈ôesunout
    - –û—Ç–º–µ–Ω–∏—Ç—å / Zru≈°it
  - –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–∞ `sent`.
- –î–µ–π—Å—Ç–≤–∏—è –ø–æ –∫–Ω–æ–ø–∫–∞–º:
  - –º–µ–Ω—è—é—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–ø–∏—Å–∏ (`confirmed`, `canceled`, `reschedule_requested`),
  - —É–≤–µ–¥–æ–º–ª—è—é—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

### 6. –ü—Ä–∞–π—Å / Cen√≠k

–ü—Ä–∞–π—Å –∂—ë—Å—Ç–∫–æ –∑–∞—à–∏—Ç –≤ –±–æ—Ç–µ (RU/CZ), –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ A/B/C, —Å—Ç—Ä–æ–≥–æ –ø–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º.
–û—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è –≤ `messages.js`, –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø–æ –∫–Ω–æ–ø–∫–µ **üíµ –ü—Ä–∞–π—Å / Cen√≠k**.

### 7. FAQ

- 10 —Ç–∏–ø–∏—á–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ RU –∏ CZ.
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø—Ä–æ—Å—Ç—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º-—Å–ø–∏—Å–∫–æ–º.

### 8. –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ / Portfolio

- –ö–Ω–æ–ø–∫–∞ —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –Ω–∞ —Å–∞–π—Ç (placeholder-—Å—Å—ã–ª–∫–∞ `https://boss-detailing.example.com`).

### 9. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ / Nastaven√≠

- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —è–∑—ã–∫–∞.
- –ö–Ω–æ–ø–∫–∞ ¬´–°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫¬ª –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞.

---

## –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

–î–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è `ADMIN_PASSWORD` —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/admin` (–≤ —Ç–æ–º —á–∞—Ç–µ, –≥–¥–µ –≤—ã –µ—ë –≤–≤–æ–¥–∏—Ç–µ).

- **/bookings** ‚Äì –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 –∑–∞—è–≤–æ–∫.
- **/today** ‚Äì –∑–∞—è–≤–∫–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è.
- **/search \<—Å—Ç—Ä–æ–∫–∞\>** ‚Äì –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏–ª–∏ ID.
- **/setstatus \<id\> \<status\>** ‚Äì —Ä—É—á–Ω–∞—è —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–ø–∏—Å–∏ (`pending`, `confirmed`, `canceled`, `rescheduled`, `completed`).

–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏ –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Å inline-–∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

---

## HTTP API –¥–ª—è —Å–∞–π—Ç–∞

–ë–∞–∑–æ–≤—ã–π URL: `/api`.

- **POST `/api/bookings`**
  - –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å —Å —Å–∞–π—Ç–∞.
  - –¢–µ–ª–æ (JSON-–ø—Ä–∏–º–µ—Ä):

```json
{
  "name": "–ò–≤–∞–Ω",
  "phone": "+420123456789",
  "serviceCategory": "–ö–æ–º–ø–ª–µ–∫—Ç",
  "serviceName": "–ö–æ–º–ø–ª–µ–∫—Ç VIP",
  "carClass": "B",
  "visitDate": "2025-01-20T10:00:00.000Z",
  "comment": "–ß–µ—Ä–Ω—ã–π —Å–µ–¥–∞–Ω",
  "language": "ru"
}
```

- **GET `/api/bookings`**
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
    - `date` ‚Äì –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –¥–∞—Ç–∞ `YYYY-MM-DD`,
    - –ª–∏–±–æ `from` / `to` ‚Äì –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç.
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∑–∞–ø–∏—Å–µ–π –≤ JSON.

- **POST `/api/webhook`**
  - Endpoint –¥–ª—è Telegram webhook (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `USE_WEBHOOK=true`).

---

## –î–µ–ø–ª–æ–π –Ω–∞ Railway / Render (–∫—Ä–∞—Ç–∫–æ)

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ GitHub.
2. –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL (–Ω–∞ Railway –∏–ª–∏ –¥—Ä—É–≥–æ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ), –ø—Ä–∏–º–µ–Ω–∏—Ç–µ `db.sql`.
3. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ Node.js-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - **Railway**:
     - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
     - –£–∫–∞–∂–∏—Ç–µ `Start Command`: `npm start`.
     - –í –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤—å—Ç–µ `BOT_TOKEN`, `DATABASE_URL`, `BOOKINGS_CHAT_ID`, `ADMIN_PASSWORD`, `USE_WEBHOOK=true`, `WEBHOOK_URL=https://<railway-app-domain>/api/webhook`.
   - **Render**:
     - Web Service —Å `Build Command: npm install`, `Start Command: npm start`.
     - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ.
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±–æ—Ç –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –≤ Telegram, —Ç–∞–∫ –∏ —á–µ—Ä–µ–∑ HTTP API.


